{"ast":null,"code":"import _objectSpread from \"/home/unix/Downloads/react-hooks-blog-fullstack-master/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/unix/Downloads/react-hooks-blog-fullstack-master/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/unix/Downloads/react-hooks-blog-fullstack-master/Client/src/Blog/editpost.js\";\nimport React, { useContext, useState } from 'react';\nimport axios from 'axios';\nimport history from '../utils/history';\nimport Context from '../utils/context';\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\n\nconst EditPost = props => {\n  const context = useContext(Context);\n\n  const _useState = useState({\n    title: props.location.state.post.post.title,\n    body: props.location.state.post.post.body\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        stateLocal = _useState2[0],\n        setState = _useState2[1];\n\n  const handleTitleChange = event => {\n    setState(_objectSpread({}, stateLocal, {\n      title: event.target.value\n    }));\n  };\n\n  const handleBodyChange = event => {\n    setState(_objectSpread({}, stateLocal, {\n      body: event.target.value\n    }));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const user_id = context.dbProfileState[0].uid;\n    const username = context.dbProfileState[0].username;\n    const pid = props.location.state.post.post.pid;\n    const title = event.target.title.value;\n    const body = event.target.body.value;\n    const data = {\n      title: title,\n      body: body,\n      pid: pid,\n      uid: user_id,\n      username: username\n    };\n    axios.put(\"/api/put/post\", data).then(res => console.log(res)).catch(err => console.log(err)).then(setTimeout(() => history.replace('/profile'), 700));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"title\",\n    label: \"title\",\n    margin: \"normal\",\n    value: stateLocal.title,\n    onChange: handleTitleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"body\",\n    label: \"body\",\n    multiline: true,\n    rows: \"4\",\n    margin: \"normal\",\n    value: stateLocal.body,\n    onChange: handleBodyChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \" Submit \")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \" Cancel \"));\n};\n\nexport default EditPost;","map":{"version":3,"sources":["/home/unix/Downloads/react-hooks-blog-fullstack-master/Client/src/Blog/editpost.js"],"names":["React","useContext","useState","axios","history","Context","TextField","Button","EditPost","props","context","title","location","state","post","body","stateLocal","setState","handleTitleChange","event","target","value","handleBodyChange","handleSubmit","preventDefault","user_id","dbProfileState","uid","username","pid","data","put","then","res","console","log","catch","err","setTimeout","replace","goBack"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport axios from 'axios';\r\nimport history from '../utils/history';\r\nimport Context from '../utils/context';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n\r\n\r\n\r\nconst EditPost = (props) => {\r\n  const context = useContext(Context)\r\n\r\n  const [stateLocal, setState] = useState({ title: props.location.state.post.post.title,\r\n                                            body: props.location.state.post.post.body\r\n                                          })\r\n\r\n\r\n  const handleTitleChange = (event) => {\r\n    setState({...stateLocal, title: event.target.value })\r\n  }\r\n\r\n  const handleBodyChange = (event) => {\r\n    setState({...stateLocal, body: event.target.value })\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n\r\n    const user_id = context.dbProfileState[0].uid\r\n    const username = context.dbProfileState[0].username\r\n    const pid = props.location.state.post.post.pid\r\n    const title = event.target.title.value\r\n    const body = event.target.body.value\r\n\r\n    const data = {title: title,\r\n                  body: body,\r\n                  pid: pid,\r\n                  uid: user_id,\r\n                  username: username\r\n                 }\r\n    axios.put(\"/api/put/post\", data)\r\n      .then(res => console.log(res))\r\n      .catch(err => console.log(err))\r\n      .then(setTimeout(() => history.replace('/profile'), 700 ))\r\n  }\r\n\r\n\r\n    return(\r\n        <div>\r\n          <form onSubmit={handleSubmit}>\r\n            <TextField\r\n              id='title'\r\n              label='title'\r\n              margin=\"normal\"\r\n              value={stateLocal.title}\r\n              onChange={handleTitleChange}\r\n            />\r\n            <br />\r\n            <TextField\r\n              id='body'\r\n              label='body'\r\n              multiline\r\n              rows=\"4\"\r\n              margin='normal'\r\n              value={stateLocal.body}\r\n              onChange={handleBodyChange}\r\n              />\r\n          <br />\r\n          <button type=\"submit\"> Submit </button>\r\n          </form>\r\n          <br />\r\n          <Button onClick={() => history.goBack()}> Cancel </Button>\r\n        </div>\r\n    )}\r\n\r\n\r\n\r\nexport default EditPost;\r\n"]},"metadata":{},"sourceType":"module"}
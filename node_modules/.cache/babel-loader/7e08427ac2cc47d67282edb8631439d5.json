{"ast":null,"code":"import _objectSpread from \"/home/unix/Downloads/react-hooks-blog-fullstack-master/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/unix/Downloads/react-hooks-blog-fullstack-master/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/unix/Downloads/react-hooks-blog-fullstack-master/Client/src/Profile/showuser.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport moment from 'moment';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Button from '@material-ui/core/Button';\n\nconst ShowUser = props => {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        profile = _useState2[0],\n        setProfile = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        userPosts = _useState4[0],\n        setPosts = _useState4[1];\n\n  useEffect(() => {\n    const username = props.location.state.post.post.author;\n    axios.get('/api/get/otheruserprofilefromdb', {\n      params: {\n        username: username\n      }\n    }).then(res => setProfile(_objectSpread({}, res.data))).catch(function (error) {\n      console.log(error);\n    });\n    axios.get('/api/get/otheruserposts', {\n      params: {\n        username: username\n      }\n    }).then(res => setPosts([...res.data])).catch(function (error) {\n      console.log(error);\n    });\n    window.scrollTo({\n      top: 0,\n      left: 0\n    });\n  }, [props.location.state.post.post.author]);\n\n  const RenderProfile = props => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FlexRow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 10\n    }\n  }, props.profile.username)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FlexRow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: \"/sendmessage/\",\n      state: {\n        props\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 14\n    }\n  }, \"Send Message\"))));\n\n  const RenderPosts = post => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"CardStyles\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    title: /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: \"/post/\" + post.post.pid,\n        state: {\n          post\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 18\n      }\n    }, post.post.title),\n    subheader: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 23\n      }\n    }, moment(post.post.date_created).format('MMMM Do, YYYY | h:mm a')), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 23\n      }\n    }, post.post.author)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      overflow: 'hidden'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, post.post.body, \" \"))));\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FlexRow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 6\n    }\n  }, profile ? /*#__PURE__*/React.createElement(RenderProfile, {\n    profile: profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }) : null), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"style-two\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 6\n    }\n  }, \" Latest Activity: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FlexColumn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 8\n    }\n  }, userPosts ? userPosts.map(post => /*#__PURE__*/React.createElement(\"div\", {\n    key: post.pid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(RenderPosts, {\n    post: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 14\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 14\n    }\n  }))) : null));\n};\n\nexport default ShowUser;","map":{"version":3,"sources":["/home/unix/Downloads/react-hooks-blog-fullstack-master/Client/src/Profile/showuser.js"],"names":["React","useState","useEffect","Link","axios","moment","Card","CardContent","CardHeader","Button","ShowUser","props","profile","setProfile","userPosts","setPosts","username","location","state","post","author","get","params","then","res","data","catch","error","console","log","window","scrollTo","top","left","RenderProfile","pathname","RenderPosts","pid","title","date_created","format","overflow","body","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nconst ShowUser = (props) => {\r\n\r\n  const [profile, setProfile ] = useState({})\r\n  const [userPosts, setPosts ] = useState([])\r\n\r\n  useEffect(() => {\r\n    const username = props.location.state.post.post.author\r\n    axios.get('/api/get/otheruserprofilefromdb', {params: {username: username}} )\r\n      .then(res =>  setProfile({...res.data} ))\r\n      .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n     axios.get('/api/get/otheruserposts', {params: {username: username}} )\r\n       .then(res =>  setPosts([...res.data]))\r\n       .catch(function (error) {\r\n           console.log(error);\r\n         })\r\n      window.scrollTo({top: 0, left: 0})\r\n    }, [props.location.state.post.post.author] )\r\n\r\n\r\n  const RenderProfile = (props) => (\r\n    <div>\r\n      <div className=\"FlexRow\">\r\n         <h1>\r\n            {props.profile.username}\r\n         </h1>\r\n         </div>\r\n         <div className=\"FlexRow\">\r\n         <Link to={{pathname:\"/sendmessage/\", state:{props} }}>\r\n             <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n                Send Message\r\n             </Button>\r\n          </Link>\r\n        </div>\r\n    </div>\r\n    );\r\n\r\n\r\n  const RenderPosts = (post) => (\r\n    <div>\r\n     <Card className=\"CardStyles\">\r\n        <CardHeader\r\n          title={<Link to={{pathname:\"/post/\" + post.post.pid, state: {post} }}>\r\n                { post.post.title }\r\n                </Link>}\r\n          subheader={\r\n                    <div>\r\n                      <div >\r\n                      {  moment(post.post.date_created).format('MMMM Do, YYYY | h:mm a') }\r\n                      </div>\r\n                      <div >{post.post.author}</div>\r\n                    </div> }\r\n        />\r\n        <CardContent>\r\n            <span style={{ overflow: 'hidden'}}>{ post.post.body } </span>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n\r\n\r\n   return (\r\n     <div>\r\n     <div className=\"FlexRow\">\r\n        {profile\r\n          ? <RenderProfile profile={profile} />\r\n          : null\r\n         }\r\n     </div>\r\n\r\n    <br />\r\n    <hr className=\"style-two\" />\r\n\r\n     <h3> Latest Activity: </h3>\r\n       <div className=\"FlexColumn\">\r\n       { userPosts ?\r\n          userPosts.map(post =>\r\n          <div key={ post.pid }>\r\n             <RenderPosts  post={post} />\r\n             <br />\r\n          </div>\r\n           )\r\n       : null\r\n       }\r\n       </div>\r\n     </div>\r\n  )\r\n}\r\n\r\n\r\nexport default (ShowUser);\r\n"]},"metadata":{},"sourceType":"module"}
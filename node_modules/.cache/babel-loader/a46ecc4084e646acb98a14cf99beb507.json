{"ast":null,"code":"import _slicedToArray from \"/home/unix/Downloads/react-hooks-blog-fullstack-master/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/unix/Downloads/react-hooks-blog-fullstack-master/Client/src/Profile/showmessages.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport Context from '../utils/context';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport history from '../utils/history';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst ShowMessages = props => {\n  const context = useContext(Context);\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        messages = _useState2[0],\n        setMessages = _useState2[1];\n\n  useEffect(() => {\n    const username = context.dbProfileState[0].username;\n    axios.get('/api/get/usermessages', {\n      params: {\n        username: username\n      }\n    }).then(res => setMessages([...res.data])).catch(function (error) {\n      console.log(error);\n    });\n  }, []); //eslint-disable-line\n\n  const RenderMessages = props => /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 16\n    }\n  }, \"From: \"), \"  \", props.message.message_sender, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 16\n    }\n  }, \"Title \"), \"   \", props.message.message_title, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 15\n    }\n  }, \" Message:\"), \"  \", props.message.message_body, \" \"), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }\n  }, \" \", props.message.date_created, \" \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: \"/replytomessage\",\n      state: {\n        props\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 16\n    }\n  }, \"Reply\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => DeleteMessage(props.message.mid),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }\n  }, \" Delete \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 12\n    }\n  }, \" Cancel \")));\n\n  const DeleteMessage = mid => {\n    axios.delete('/api/delete/usermessage', {\n      data: {\n        mid: mid\n      }\n    }).then(res => console.log(res)).catch(function (error) {\n      console.log(error);\n    }).then(() => setTimeout(function () {\n      history.replace('/');\n    }, 700));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FlexRow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, \" Messages \"), \" \"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, messages ? messages.map(message => /*#__PURE__*/React.createElement(RenderMessages, {\n    key: message.mid,\n    message: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  })) : null))));\n};\n\nexport default ShowMessages;","map":{"version":3,"sources":["/home/unix/Downloads/react-hooks-blog-fullstack-master/Client/src/Profile/showmessages.js"],"names":["React","useContext","useState","useEffect","Context","Link","axios","history","Table","TableBody","TableCell","TableHead","TableRow","ShowMessages","props","context","messages","setMessages","username","dbProfileState","get","params","then","res","data","catch","error","console","log","RenderMessages","message","message_sender","message_title","message_body","date_created","pathname","state","DeleteMessage","mid","goBack","delete","setTimeout","replace","map"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport Context from '../utils/context';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport axios from 'axios';\r\nimport history from '../utils/history';\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\n\r\nconst ShowMessages = (props) => {\r\n  const context = useContext(Context)\r\n\r\n  const [messages, setMessages] = useState([])\r\n\r\n  useEffect(() => {\r\n    const username = context.dbProfileState[0].username\r\n    axios.get('/api/get/usermessages', {params: {username: username}})\r\n      .then(res =>  setMessages([...res.data]))\r\n      .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n   }, [] )  //eslint-disable-line\r\n\r\n   const RenderMessages = (props) => (\r\n     <TableRow>\r\n         <TableCell>\r\n           <p> <strong>From: </strong>  {props.message.message_sender} </p>\r\n           <p> <strong>Title </strong>   { props.message.message_title } </p>\r\n           <p><strong> Message:</strong>  { props.message.message_body } </p>\r\n           <small> { props.message.date_created } </small>\r\n           <br />\r\n           <Link to={{pathname:\"/replytomessage\", state:{props} }}>\r\n               <button>\r\n                  Reply\r\n               </button>\r\n            </Link>\r\n           <button onClick={() => DeleteMessage(props.message.mid)}> Delete </button>\r\n           <br />\r\n           <br />\r\n           <button onClick={() => history.goBack()}> Cancel </button>\r\n        </TableCell>\r\n       </TableRow>\r\n   )\r\n\r\n  const DeleteMessage = (mid) => {\r\n    axios.delete('/api/delete/usermessage', { data: { mid: mid }})\r\n    .then(res => console.log(res))\r\n    .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n     .then(() => setTimeout( function() { history.replace('/') }, 700))\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className='FlexRow'>\r\n      <Table>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell> <strong> Messages </strong> </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          { messages\r\n            ? messages.map( message =>\r\n              <RenderMessages key={message.mid} message={message} />\r\n            )\r\n            : null\r\n          }\r\n         </TableBody>\r\n        </Table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default (ShowMessages);\r\n"]},"metadata":{},"sourceType":"module"}